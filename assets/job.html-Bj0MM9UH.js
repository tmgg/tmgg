import{_ as a,c as s,a as t,o as p}from"./app-DJw0z2e2.js";const e={};function o(c,n){return p(),s("div",null,n[0]||(n[0]=[t(`<h1 id="支持参数设置" tabindex="-1"><a class="header-anchor" href="#支持参数设置"><span>支持参数设置</span></a></h1><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@JobDesc</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;示例作业-发送系统状态&quot;</span><span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@FieldDesc</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token string">&quot;接收邮箱&quot;</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoJob</span> <span class="token keyword">implements</span> <span class="token class-name">Job</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> log <span class="token operator">=</span> <span class="token class-name">JobTool</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">JobExecutionContext</span> e<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JobExecutionException</span> <span class="token punctuation">{</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;开始执行任务-邮件发送系统状态&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 获取参数</span></span>
<span class="line">        <span class="token class-name">JobDataMap</span> data <span class="token operator">=</span> <span class="token class-name">JobTool</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> email <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>email<span class="token punctuation">,</span> <span class="token string">&quot;请填写邮箱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 抛出异常</span></span>
<span class="line"></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;接收邮箱为：{}&quot;</span><span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;空闲内存: {}&quot;</span><span class="token punctuation">,</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">readableFileSize</span><span class="token punctuation">(</span><span class="token class-name">SystemUtil</span><span class="token punctuation">.</span><span class="token function">getFreeMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;总内存：{}&quot;</span><span class="token punctuation">,</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">readableFileSize</span><span class="token punctuation">(</span><span class="token class-name">SystemUtil</span><span class="token punctuation">.</span><span class="token function">getTotalMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;模拟发送邮件中给 {} ,暂停3秒&quot;</span><span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">ThreadUtil</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;任务结束&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)]))}const i=a(e,[["render",o]]),u=JSON.parse('{"path":"/job.html","title":"定时作业","lang":"zh-CN","frontmatter":{"title":"定时作业"},"headers":[],"git":{"updatedTime":1742540943000,"contributors":[{"name":"jiangtao","username":"jiangtao","email":"jiangtao.cctv@qq.com","commits":10,"url":"https://github.com/jiangtao"},{"name":"hw","username":"hw","email":"410518072@qq.com","commits":2,"url":"https://github.com/hw"}],"changelog":[{"hash":"e38621e63bbd5240a26d0edbd623d3bbb7d8f528","time":1742540943000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"支付渠道管理"},{"hash":"f74a585a0f8cf9e7635105170ca36e5d4db877cd","time":1741770437000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"文档"},{"hash":"34e0119daa7093c0e92a2db053e3a51a4cd5b470","time":1741699550000,"email":"410518072@qq.com","author":"hw","message":"vue 文档"},{"hash":"2c55bc9315a4d75af61d9e0e3fb59c3cbacaa19f","time":1741694706000,"email":"410518072@qq.com","author":"hw","message":"vue 文档"},{"hash":"939205456224ab33c4718c727f21da727909eb0d","time":1741251084000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"微信"},{"hash":"19663c59fd83b21a23356a3f2014636b7885c586","time":1741226058000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"文档"},{"hash":"c60fef9d0f1d1c8501155da0ccb5fcf0f2061bb7","time":1741225590000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"文档"},{"hash":"e7e11065d4b5a1d5462587030426bf7af6fae695","time":1741223297000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"文档"},{"hash":"f647ff8f48ea42ff5b0291a6d4178263a3a3f275","time":1741221814000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"文档"},{"hash":"81b32df0328fbd5c0b99c185d22428a6742d63ac","time":1741165286000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"文档"},{"hash":"e6109838f1c1fefc3fe2149ff9bba80698c19df7","time":1741163860000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"文档"},{"hash":"882d7c1295686fe50d4603e2c45352faf4435cef","time":1741162018000,"email":"jiangtao.cctv@qq.com","author":"jiangtao","message":"简化系统消息"}]},"filePathRelative":"job.md"}');export{i as comp,u as data};
